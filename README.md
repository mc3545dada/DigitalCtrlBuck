# DigitalCtrlBuck
## 这是一个数控降压电路设计的项目仓库，内含硬件原理图/PCB设计与嵌入式代码开发
### 使用方法
- 首先用12Vdc头给stm32供电，打开开关
- 然后调节目标电压至你的目标值，注意目标电压一定是小于输入电压的
- 确认调节好后，按下mode按键，此时继电器灯亮起，oled上显示目标电压等于实际电压，代表电路正常工作
- 请确保在调节电压时使继电器处于关闭状态，在调节到目标电压后再开启
--- 
---
## 设计相关
### 硬件部分
- 使用嘉立创EDA设计原理图及PCB
- 原理图参考开源https://www.edadong.com/ ,稍作部分修改
- 主要使用stm32f103c8t6作为主控，IR2104S栅极驱动芯片，opa2188运算放大器，lm2596s-5.0降压芯片为主控供电
- 使用12Vdc头为stm32供电，输入输出用线连接接线端子
- pwm输出频率20khz，支持最大输入电压45v，输出可调节0-33v
---
### 嵌入式开发部分
- 使用HAL库cubemx生成代码 + clion 开发本项目
- 使用pwm输出20khz波形调节占空比降压，并对输出电压进行adc采样，进行pid闭环调节电压
- 使用oled显示目标电压，实际电压，实际占空比，电路状态等参数，并用按钮控制继电器开关和目标电压调节
